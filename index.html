<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>

    <link rel="stylesheet" href="res/css/styles.css">
</head>
<body>
    <main>
        <div class="terminal">
            <menu>
                <li class="red"></li>
                <li class="yellow"></li>
                <li class="green"></li>
            </menu>

            <div class="wrapper" id="wrapper"></div>
        </div>
    </main>
    
    <footer>
        <script src="res/scripts/jquery.min.js"></script>
        <script src="https://unpkg.com/react/umd/react.development.js" crossorigin></script>
        <script src="https://unpkg.com/react-dom/umd/react-dom.development.js" crossorigin></script>
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
        <script type="text/babel">
            const { useState } = React
            const { createRoot } = ReactDOM

            const wrapper = document.getElementById('wrapper')
            const root = createRoot(wrapper)

            const terminalOptions = [
                { name: 'Home', key: 'home' },
                { name: 'About', key: 'about' },
                { name: 'Experience and Skills', key: 'exp' },
                { name: 'Projects', key: 'projects' },
                { name: 'Resume', key: 'resume' },
                { name: 'Contact', key: 'contact' }
            ];

            function TerminalHistory() {
                return <li>G:\Users\GUEST\Home</li>;
            }

            function TerminalSection() {
                return (
                    <>
                        <p>Hi! Welcome to my portfolio.</p>
                        <p>To interact with the terminal, input 'cd ../' followed by the <span>(option)</span>.</p>
                    </>
                );
            }

            function TerminalOptions({optionMap, currState}) {
                return (
                    <>
                        {optionMap.map((opt) => (
                            opt.key !== currState && (
                                <li key={opt.key}>
                                    {opt.name} <small>({opt.key})</small>
                                </li>
                            )
                        ))}
                    </>
                );
            }

            function TerminalInput() {
                return (
                    <div className='input_wrap'>
                        <label htmlFor="input">G:\Users\GUEST\HOME&gt;</label>
                        <input id="input" type="text" placeholder="cd ../option" />
                    </div>
                );
            }

            function TerminalWrapper({option}) {
                const [state, setState] = useState('home')

                return (
                    <>
                        <ul className='history'>
                            <TerminalHistory />
                        </ul>

                        <section>
                            <TerminalSection />
                        </section>

                        <ol type='1' className='options'>
                            <TerminalOptions optionMap={terminalOptions} currState={state} />
                        </ol>

                        <TerminalInput />
                    </>
                );
            }

            root.render(<TerminalWrapper />)
        </script>

        <script>
            $(function(){
                $('input').focus()
                $('.terminal').scrollTop($('.terminal')[0].scrollHeight)
            })
        </script>
    </footer>
</body>
</html>